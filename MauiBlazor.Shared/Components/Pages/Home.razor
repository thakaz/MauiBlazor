@inject 天気Service 天気Service
@page "/"

@using Microsoft.AspNetCore.Components.Authorization


<h1>Hello, world!</h1>

@DateOnly.FromDateTime(DateTime.Now).ToString("yyyy/MM/dd") は傘が必要か？:@(傘が必要か ? "必要" : "不要")

<FluentButton Text="Click me" OnClick="ClickMe" >アラートメッセージ</FluentButton>

<AuthorizeView>
    <Authorized>
        <p>ログイン済み</p>
    </Authorized>
    <NotAuthorized>
        <p>未ログイン</p>
    </NotAuthorized>
</AuthorizeView>



カード読み取りサービス: @(カード読み取りService.IsMonitoring ? "動作中" : "停止中")
<FluentButton OnClick="()=>カード読み取りService.LoadCardReader()">カードの再読み込み</FluentButton>


@code{
    private async Task ClickMe()
    {
        await DisplayAlert.ShowAlertAsync("クリック", "クリックされました。", "OK");
    }
    private bool 傘が必要か{ get; set; }

    protected override async Task OnInitializedAsync()
    {
        傘が必要か = await 天気Service.傘が必要か(DateOnly.FromDateTime(DateTime.Now));
        await 天気Service.Get天気Async();
    }

}